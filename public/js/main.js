!function(f){var d=function(a,b){this.init("tooltip",a,b)};d.prototype={constructor:d,init:function(b,i,n){var a,p,c,o,m;this.type=b;this.$element=f(i);this.options=this.getOptions(n);this.enabled=true;c=this.options.trigger.split(" ");for(m=c.length;m--;){o=c[m];if(o=="click"){this.$element.on("click."+this.type,this.options.selector,f.proxy(this.toggle,this))}else{if(o!="manual"){a=o=="hover"?"mouseenter":"focus";p=o=="hover"?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,f.proxy(this.enter,this));this.$element.on(p+"."+this.type,this.options.selector,f.proxy(this.leave,this))}}}this.options.selector?(this._options=f.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()},getOptions:function(a){a=f.extend({},f.fn[this.type].defaults,this.$element.data(),a);if(a.delay&&typeof a.delay=="number"){a.delay={show:a.delay,hide:a.delay}}return a},enter:function(a){var b=f(a.currentTarget)[this.type](this._options).data(this.type);if(!b.options.delay||!b.options.delay.show){return b.show()}clearTimeout(this.timeout);b.hoverState="in";this.timeout=setTimeout(function(){if(b.hoverState=="in"){b.show()}},b.options.delay.show)},leave:function(a){var b=f(a.currentTarget)[this.type](this._options).data(this.type);if(this.timeout){clearTimeout(this.timeout)}if(!b.options.delay||!b.options.delay.hide){return b.hide()}b.hoverState="out";this.timeout=setTimeout(function(){if(b.hoverState=="out"){b.hide()}},b.options.delay.hide)},show:function(){var c,a,m,b,o,l,n=f.Event("show");if(this.hasContent()&&this.enabled){this.$element.trigger(n);if(n.isDefaultPrevented()){return}c=this.tip();this.setContent();if(this.options.animation){c.addClass("fade")}o=typeof this.options.placement=="function"?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement;c.detach().css({top:0,left:0,display:"block"});this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);a=this.getPosition();m=c[0].offsetWidth;b=c[0].offsetHeight;switch(o){case"bottom":l={top:a.top+a.height,left:a.left+a.width/2-m/2};break;case"top":l={top:a.top-b,left:a.left+a.width/2-m/2};break;case"left":l={top:a.top+a.height/2-b/2,left:a.left-m};break;case"right":l={top:a.top+a.height/2-b/2,left:a.left+a.width};break}this.applyPlacement(l,o);this.$element.trigger("shown")}},applyPlacement:function(o,n){var m=this.tip(),q=m[0].offsetWidth,a=m[0].offsetHeight,r,c,b,p;m.offset(o).addClass(n).addClass("in");r=m[0].offsetWidth;c=m[0].offsetHeight;if(n=="top"&&c!=a){o.top=o.top+a-c;p=true}if(n=="bottom"||n=="top"){b=0;if(o.left<0){b=o.left*-2;o.left=0;m.offset(o);r=m[0].offsetWidth;c=m[0].offsetHeight}this.replaceArrow(b-q+r,r,"left")}else{this.replaceArrow(c-a,c,"top")}if(p){m.offset(o)}},replaceArrow:function(a,b,c){this.arrow().css(c,a?(50*(1-a/b)+"%"):"")},setContent:function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b);a.removeClass("fade in top bottom left right")},hide:function(){var i=this,b=this.tip(),c=f.Event("hide");this.$element.trigger(c);if(c.isDefaultPrevented()){return}b.removeClass("in");function a(){var g=setTimeout(function(){b.off(f.support.transition.end).detach()},500);b.one(f.support.transition.end,function(){clearTimeout(g);b.detach()})}f.support.transition&&this.$tip.hasClass("fade")?a():b.detach();this.$element.trigger("hidden");return this},fixTitle:function(){var a=this.$element;if(a.attr("title")||typeof(a.attr("data-original-title"))!="string"){a.attr("data-original-title",a.attr("title")||"").attr("title","")}},hasContent:function(){return this.getTitle()},getPosition:function(){var a=this.$element[0];return f.extend({},(typeof a.getBoundingClientRect=="function")?a.getBoundingClientRect():{width:a.offsetWidth,height:a.offsetHeight},this.$element.offset())},getTitle:function(){var a,c=this.$element,b=this.options;a=c.attr("data-original-title")||(typeof b.title=="function"?b.title.call(c[0]):b.title);return a},tip:function(){return this.$tip=this.$tip||f(this.options.template)},arrow:function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(a){var b=a?f(a.currentTarget)[this.type](this._options).data(this.type):this;b.tip().hasClass("in")?b.hide():b.show()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var e=f.fn.tooltip;f.fn.tooltip=function(a){return this.each(function(){var b=f(this),c=b.data("tooltip"),h=typeof a=="object"&&a;if(!c){b.data("tooltip",(c=new d(this,h)))}if(typeof a=="string"){c[a]()}})};f.fn.tooltip.Constructor=d;f.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false};f.fn.tooltip.noConflict=function(){f.fn.tooltip=e;return this}}(window.jQuery);!function(f){var d=function(a,b){this.options=b;this.$element=f(a).delegate('[data-dismiss="modal"]',"click.dismiss.modal",f.proxy(this.hide,this));this.options.remote&&this.$element.find(".modal-body").load(this.options.remote)};d.prototype={constructor:d,toggle:function(){return this[!this.isShown?"show":"hide"]()},show:function(){var b=this,a=f.Event("show");this.$element.trigger(a);if(this.isShown||a.isDefaultPrevented()){return}this.isShown=true;this.escape();this.backdrop(function(){var c=f.support.transition&&b.$element.hasClass("fade");if(!b.$element.parent().length){b.$element.appendTo(document.body)}b.$element.show();if(c){b.$element[0].offsetWidth}b.$element.addClass("in").attr("aria-hidden",false);b.enforceFocus();c?b.$element.one(f.support.transition.end,function(){b.$element.focus().trigger("shown")}):b.$element.focus().trigger("shown")})},hide:function(a){a&&a.preventDefault();var b=this;a=f.Event("hide");this.$element.trigger(a);if(!this.isShown||a.isDefaultPrevented()){return}this.isShown=false;this.escape();f(document).off("focusin.modal");this.$element.removeClass("in").attr("aria-hidden",true);f.support.transition&&this.$element.hasClass("fade")?this.hideWithTransition():this.hideModal()},enforceFocus:function(){var a=this;f(document).on("focusin.modal",function(b){if(a.$element[0]!==b.target&&!a.$element.has(b.target).length){a.$element.focus()}})},escape:function(){var a=this;if(this.isShown&&this.options.keyboard){this.$element.on("keyup.dismiss.modal",function(b){b.which==27&&a.hide()})}else{if(!this.isShown){this.$element.off("keyup.dismiss.modal")}}},hideWithTransition:function(){var b=this,a=setTimeout(function(){b.$element.off(f.support.transition.end);b.hideModal()},500);this.$element.one(f.support.transition.end,function(){clearTimeout(a);b.hideModal()})},hideModal:function(){var a=this;this.$element.hide();this.backdrop(function(){a.removeBackdrop();a.$element.trigger("hidden")})},removeBackdrop:function(){this.$backdrop.remove();this.$backdrop=null},backdrop:function(a){var b=this,c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var h=f.support.transition&&c;this.$backdrop=f('<div class="modal-backdrop '+c+'" />').appendTo(document.body);this.$backdrop.click(this.options.backdrop=="static"?f.proxy(this.$element[0].focus,this.$element[0]):f.proxy(this.hide,this));if(h){this.$backdrop[0].offsetWidth}this.$backdrop.addClass("in");if(!a){return}h?this.$backdrop.one(f.support.transition.end,a):a()}else{if(!this.isShown&&this.$backdrop){this.$backdrop.removeClass("in");f.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(f.support.transition.end,a):a()}else{if(a){a()}}}}};var e=f.fn.modal;f.fn.modal=function(a){return this.each(function(){var b=f(this),c=b.data("modal"),h=f.extend({},f.fn.modal.defaults,b.data(),typeof a=="object"&&a);if(!c){b.data("modal",(c=new d(this,h)))}if(typeof a=="string"){c[a]()}else{if(h.show){c.show()}}})};f.fn.modal.defaults={backdrop:true,keyboard:true,show:true};f.fn.modal.Constructor=d;f.fn.modal.noConflict=function(){f.fn.modal=e;return this};f(document).on("click.modal.data-api",'[data-toggle="modal"]',function(a){var b=f(this),j=b.attr("href"),k=f(b.attr("data-target")||(j&&j.replace(/.*(?=#[^\s]+$)/,""))),c=k.data("modal")?"toggle":f.extend({remote:!/#/.test(j)&&j},k.data(),b.data());a.preventDefault();k.modal(c).one("hide",function(){b.focus()})})}(window.jQuery);!function(b){b(function(){b.support.transition=(function(){var a=(function(){var f=document.createElement("bootstrap"),g={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},h;for(h in g){if(f.style[h]!==undefined){return g[h]}}}());return a&&{end:a}})()})}(window.jQuery);!function(f){var d=function(a,b){this.$element=f(a);this.options=f.extend({},f.fn.button.defaults,b)};d.prototype.setState=function(c){var a="disabled",k=this.$element,j=k.data(),b=k.is("input")?"val":"html";c=c+"Text";j.resetText||k.data("resetText",k[b]());k[b](j[c]||this.options[c]);setTimeout(function(){c=="loadingText"?k.addClass(a).attr(a,a):k.removeClass(a).removeAttr(a)},0)};d.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons-radio"]');a&&a.find(".active").removeClass("active");this.$element.toggleClass("active")};var e=f.fn.button;f.fn.button=function(a){return this.each(function(){var b=f(this),c=b.data("button"),h=typeof a=="object"&&a;if(!c){b.data("button",(c=new d(this,h)))}if(a=="toggle"){c.toggle()}else{if(a){c.setState(a)}}})};f.fn.button.defaults={loadingText:"loading..."};f.fn.button.Constructor=d;f.fn.button.noConflict=function(){f.fn.button=e;return this};f(document).on("click.button.data-api","[data-toggle^=button]",function(a){var b=f(a.target);if(!b.hasClass("btn")){b=b.closest(".btn")}b.button("toggle")})}(window.jQuery);!function(f){var d=function(a,b){this.init("popover",a,b)};d.prototype=f.extend({},f.fn.tooltip.Constructor.prototype,{constructor:d,setContent:function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b);a.find(".popover-content")[this.options.html?"html":"text"](c);a.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var b,c=this.$element,a=this.options;b=(typeof a.content=="function"?a.content.call(c[0]):a.content)||c.attr("data-content");return b},tip:function(){if(!this.$tip){this.$tip=f(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var e=f.fn.popover;f.fn.popover=function(a){return this.each(function(){var b=f(this),c=b.data("popover"),h=typeof a=="object"&&a;if(!c){b.data("popover",(c=new d(this,h)))}if(typeof a=="string"){c[a]()}})};f.fn.popover.Constructor=d;f.fn.popover.defaults=f.extend({},f.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});f.fn.popover.noConflict=function(){f.fn.popover=e;return this}}(window.jQuery);!function(g){var h='[data-dismiss="alert"]',e=function(a){g(a).on("click",h,this.close)};e.prototype.close=function(a){var b=g(this),d=b.attr("data-target"),c;if(!d){d=b.attr("href");d=d&&d.replace(/.*(?=#[^\s]*$)/,"")}c=g(d);a&&a.preventDefault();c.length||(c=b.hasClass("alert")?b:b.parent());c.trigger(a=g.Event("close"));if(a.isDefaultPrevented()){return}c.removeClass("in");function k(){c.trigger("closed").remove()}g.support.transition&&c.hasClass("fade")?c.on(g.support.transition.end,k):k()};var f=g.fn.alert;g.fn.alert=function(a){return this.each(function(){var b=g(this),c=b.data("alert");if(!c){b.data("alert",(c=new e(this)))}if(typeof a=="string"){c[a].call(b)}})};g.fn.alert.Constructor=e;g.fn.alert.noConflict=function(){g.fn.alert=f;return this};g(document).on("click.alert.data-api",h,e.prototype.close)}(window.jQuery);
/* jQuery UI - v1.10.0 - 2013-02-14
* http://jqueryui.com
* Includes: jquery.ui.core.js, jquery.ui.widget.js, jquery.ui.mouse.js, jquery.ui.position.js, jquery.ui.autocomplete.js, jquery.ui.menu.js, jquery.ui.slider.js
* Copyright (c) 2013 jQuery Foundation and other contributors Licensed MIT */
(function(j,e){function h(d,a){var c,f,b,g=d.nodeName.toLowerCase();return"area"===g?(c=d.parentNode,f=c.name,!d.href||!f||c.nodeName.toLowerCase()!=="map"?!1:(b=j("img[usemap=#"+f+"]")[0],!!b&&l(b))):(/input|select|textarea|button|object/.test(g)?!d.disabled:"a"===g?d.href||a:a)&&l(d)}function l(a){return j.expr.filters.visible(a)&&!j(a).parents().addBack().filter(function(){return j.css(this,"visibility")==="hidden"}).length}var i=0,k=/^ui-id-\d+$/;j.ui=j.ui||{};if(j.ui.version){return}j.extend(j.ui,{version:"1.10.0",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),j.fn.extend({_focus:j.fn.focus,focus:function(b,a){return typeof b=="number"?this.each(function(){var c=this;setTimeout(function(){j(c).focus(),a&&a.call(c)},b)}):this._focus.apply(this,arguments)},scrollParent:function(){var a;return j.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?a=this.parents().filter(function(){return/(relative|absolute|fixed)/.test(j.css(this,"position"))&&/(auto|scroll)/.test(j.css(this,"overflow")+j.css(this,"overflow-y")+j.css(this,"overflow-x"))}).eq(0):a=this.parents().filter(function(){return/(auto|scroll)/.test(j.css(this,"overflow")+j.css(this,"overflow-y")+j.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!a.length?j(document):a},zIndex:function(a){if(a!==e){return this.css("zIndex",a)}if(this.length){var b=j(this[0]),d,c;while(b.length&&b[0]!==document){d=b.css("position");if(d==="absolute"||d==="relative"||d==="fixed"){c=parseInt(b.css("zIndex"),10);if(!isNaN(c)&&c!==0){return c}}b=b.parent()}}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++i)})},removeUniqueId:function(){return this.each(function(){k.test(this.id)&&j(this).removeAttr("id")})}}),j.extend(j.expr[":"],{data:j.expr.createPseudo?j.expr.createPseudo(function(a){return function(b){return !!j.data(b,a)}}):function(c,a,b){return !!j.data(c,b[3])},focusable:function(a){return h(a,!isNaN(j.attr(a,"tabindex")))},tabbable:function(c){var a=j.attr(c,"tabindex"),b=isNaN(a);return(b||a>=0)&&h(c,!b)}}),j("<a>").outerWidth(1).jquery||j.each(["Width","Height"],function(a,c){function g(m,n,r,s){return j.each(f,function(){n-=parseFloat(j.css(m,"padding"+this))||0,r&&(n-=parseFloat(j.css(m,"border"+this+"Width"))||0),s&&(n-=parseFloat(j.css(m,"margin"+this))||0)}),n}var f=c==="Width"?["Left","Right"]:["Top","Bottom"],d=c.toLowerCase(),b={innerWidth:j.fn.innerWidth,innerHeight:j.fn.innerHeight,outerWidth:j.fn.outerWidth,outerHeight:j.fn.outerHeight};j.fn["inner"+c]=function(m){return m===e?b["inner"+c].call(this):this.each(function(){j(this).css(d,g(this,m)+"px")})},j.fn["outer"+c]=function(m,n){return typeof m!="number"?b["outer"+c].call(this,m):this.each(function(){j(this).css(d,g(this,m,!0,n)+"px")})}}),j.fn.addBack||(j.fn.addBack=function(a){return this.add(a==null?this.prevObject:this.prevObject.filter(a))}),j("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(j.fn.removeData=function(a){return function(b){return arguments.length?a.call(this,j.camelCase(b)):a.call(this)}}(j.fn.removeData)),j.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),j.support.selectstart="onselectstart" in document.createElement("div"),j.fn.extend({disableSelection:function(){return this.bind((j.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(a){a.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),j.extend(j.ui,{plugin:{add:function(d,a,b){var f,c=j.ui[d].prototype;for(f in b){c.plugins[f]=c.plugins[f]||[],c.plugins[f].push([a,b[f]])}},call:function(b,d,a){var c,f=b.plugins[d];if(!f||!b.element[0].parentNode||b.element[0].parentNode.nodeType===11){return}for(c=0;c<f.length;c++){b.options[f[c][0]]&&f[c][1].apply(b.element,a)}}},hasScroll:function(c,a){if(j(c).css("overflow")==="hidden"){return !1}var b=a&&a==="left"?"scrollLeft":"scrollTop",d=!1;return c[b]>0?!0:(c[b]=1,d=c[b]>0,c[b]=0,d)}})})(jQuery);(function(i,e){var h=0,j=Array.prototype.slice,g=i.cleanData;i.cleanData=function(d){for(var a=0,b;(b=d[a])!=null;a++){try{i(b).triggerHandler("remove")}catch(c){}}g(d)},i.widget=function(b,o,s){var n,a,r,c,d={},f=b.split(".")[0];b=b.split(".")[1],n=f+"-"+b,s||(s=o,o=i.Widget),i.expr[":"][n.toLowerCase()]=function(k){return !!i.data(k,n)},i[f]=i[f]||{},a=i[f][b],r=i[f][b]=function(l,k){if(!this._createWidget){return new r(l,k)}arguments.length&&this._createWidget(l,k)},i.extend(r,a,{version:s.version,_proto:i.extend({},s),_childConstructors:[]}),c=new o,c.options=i.widget.extend({},c.options),i.each(s,function(k,l){if(!i.isFunction(l)){d[k]=l;return}d[k]=function(){var m=function(){return o.prototype[k].apply(this,arguments)},p=function(q){return o.prototype[k].apply(this,q)};return function(){var x=this._super,q=this._superApply,t;return this._super=m,this._superApply=p,t=l.apply(this,arguments),this._super=x,this._superApply=q,t}}()}),r.prototype=i.widget.extend(c,{widgetEventPrefix:a?c.widgetEventPrefix:b},d,{constructor:r,namespace:f,widgetName:b,widgetFullName:n}),a?(i.each(a._childConstructors,function(k,l){var m=l.prototype;i.widget(m.namespace+"."+m.widgetName,r,l._proto)}),delete a._childConstructors):o._childConstructors.push(r),i.widget.bridge(b,r)},i.widget.extend=function(a){var d=j.call(arguments,1),c=0,b=d.length,f,m;for(;c<b;c++){for(f in d[c]){m=d[c][f],d[c].hasOwnProperty(f)&&m!==e&&(i.isPlainObject(m)?a[f]=i.isPlainObject(a[f])?i.widget.extend({},a[f],m):i.widget.extend({},m):a[f]=m)}}return a},i.widget.bridge=function(a,c){var b=c.prototype.widgetFullName||a;i.fn[a]=function(d){var m=typeof d=="string",n=j.call(arguments,1),f=this;return d=!m&&n.length?i.widget.extend.apply(null,[d].concat(n)):d,m?this.each(function(){var l,k=i.data(this,b);if(!k){return i.error("cannot call methods on "+a+" prior to initialization; attempted to call method '"+d+"'")}if(!i.isFunction(k[d])||d.charAt(0)==="_"){return i.error("no such method '"+d+"' for "+a+" widget instance")}l=k[d].apply(k,n);if(l!==k&&l!==e){return f=l&&l.jquery?f.pushStack(l.get()):l,!1}}):this.each(function(){var k=i.data(this,b);k?k.option(d||{})._init():i.data(this,b,new c(d,this))}),f}},i.Widget=function(){},i.Widget._childConstructors=[],i.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(b,a){a=i(a||this.defaultElement||this)[0],this.element=i(a),this.uuid=h++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=i.widget.extend({},this.options,this._getCreateOptions(),b),this.bindings=i(),this.hoverable=i(),this.focusable=i(),a!==this&&(i.data(a,this.widgetFullName,this),this._on(!0,this.element,{remove:function(c){c.target===a&&this.destroy()}}),this.document=i(a.style?a.ownerDocument:a.document||a),this.window=i(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:i.noop,_getCreateEventData:i.noop,_create:i.noop,_init:i.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(i.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:i.noop,widget:function(){return this.element},option:function(a,c){var f=a,d,b,m;if(arguments.length===0){return i.widget.extend({},this.options)}if(typeof a=="string"){f={},d=a.split("."),a=d.shift();if(d.length){b=f[a]=i.widget.extend({},this.options[a]);for(m=0;m<d.length-1;m++){b[d[m]]=b[d[m]]||{},b=b[d[m]]}a=d.pop();if(c===e){return b[a]===e?null:b[a]}b[a]=c}else{if(c===e){return this.options[a]===e?null:this.options[a]}f[a]=c}}return this._setOptions(f),this},_setOptions:function(a){var b;for(b in a){this._setOption(b,a[b])}return this},_setOption:function(a,b){return this.options[a]=b,a==="disabled"&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!b).attr("aria-disabled",b),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(d,a,b){var f,c=this;typeof d!="boolean"&&(b=a,a=d,d=!1),b?(a=f=i(a),this.bindings=this.bindings.add(a)):(b=a,a=this.element,f=this.widget()),i.each(b,function(t,o){function u(){if(!d&&(c.options.disabled===!0||i(this).hasClass("ui-state-disabled"))){return}return(typeof o=="string"?c[o]:o).apply(c,arguments)}typeof o!="string"&&(u.guid=o.guid=o.guid||u.guid||i.guid++);var k=t.match(/^(\w+)\s*(.*)$/),r=k[1]+c.eventNamespace,l=k[2];l?f.delegate(l,r,u):a.bind(r,u)})},_off:function(a,b){b=(b||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,a.unbind(b).undelegate(b)},_delay:function(b,d){function a(){return(typeof b=="string"?c[b]:b).apply(c,arguments)}var c=this;return setTimeout(a,d||0)},_hoverable:function(a){this.hoverable=this.hoverable.add(a),this._on(a,{mouseenter:function(b){i(b.currentTarget).addClass("ui-state-hover")},mouseleave:function(b){i(b.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(a){this.focusable=this.focusable.add(a),this._on(a,{focusin:function(b){i(b.currentTarget).addClass("ui-state-focus")},focusout:function(b){i(b.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(f,a,c){var m,d,b=this.options[f];c=c||{},a=i.Event(a),a.type=(f===this.widgetEventPrefix?f:this.widgetEventPrefix+f).toLowerCase(),a.target=this.element[0],d=a.originalEvent;if(d){for(m in d){m in a||(a[m]=d[m])}}return this.element.trigger(a,c),!(i.isFunction(b)&&b.apply(this.element[0],[a].concat(c))===!1||a.isDefaultPrevented())}},i.each({show:"fadeIn",hide:"fadeOut"},function(b,a){i.Widget.prototype["_"+b]=function(d,n,f){typeof n=="string"&&(n={effect:n});var c,o=n?n===!0||typeof n=="number"?a:n.effect||a:b;n=n||{},typeof n=="number"&&(n={duration:n}),c=!i.isEmptyObject(n),n.complete=f,n.delay&&d.delay(n.delay),c&&i.effects&&i.effects.effect[o]?d[b](n):o!==b&&d[o]?d[o](n.duration,n.easing,f):d.queue(function(k){i(this)[b](),f&&f.call(d[0]),k()})}})})(jQuery);(function(d,e){var f=!1;d(document).mouseup(function(){f=!1}),d.widget("ui.mouse",{version:"1.10.0",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var a=this;this.element.bind("mousedown."+this.widgetName,function(b){return a._mouseDown(b)}).bind("click."+this.widgetName,function(b){if(!0===d.data(b.target,a.widgetName+".preventClickEvent")){return d.removeData(b.target,a.widgetName+".preventClickEvent"),b.stopImmediatePropagation(),!1}}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(c){if(f){return}this._mouseStarted&&this._mouseUp(c),this._mouseDownEvent=c;var a=this,h=c.which===1,b=typeof this.options.cancel=="string"&&c.target.nodeName?d(c.target).closest(this.options.cancel).length:!1;if(!h||b||!this._mouseCapture(c)){return !0}this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){a.mouseDelayMet=!0},this.options.delay));if(this._mouseDistanceMet(c)&&this._mouseDelayMet(c)){this._mouseStarted=this._mouseStart(c)!==!1;if(!this._mouseStarted){return c.preventDefault(),!0}}return !0===d.data(c.target,this.widgetName+".preventClickEvent")&&d.removeData(c.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(g){return a._mouseMove(g)},this._mouseUpDelegate=function(g){return a._mouseUp(g)},d(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),c.preventDefault(),f=!0,!0},_mouseMove:function(a){return d.ui.ie&&(!document.documentMode||document.documentMode<9)&&!a.button?this._mouseUp(a):this._mouseStarted?(this._mouseDrag(a),a.preventDefault()):(this._mouseDistanceMet(a)&&this._mouseDelayMet(a)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,a)!==!1,this._mouseStarted?this._mouseDrag(a):this._mouseUp(a)),!this._mouseStarted)},_mouseUp:function(a){return d(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,a.target===this._mouseDownEvent.target&&d.data(a.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(a)),!1},_mouseDistanceMet:function(a){return Math.max(Math.abs(this._mouseDownEvent.pageX-a.pageX),Math.abs(this._mouseDownEvent.pageY-a.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return !0}})})(jQuery);(function(s,c){function u(j,b,g){return[parseInt(j[0],10)*(h.test(j[0])?b/100:1),parseInt(j[1],10)*(h.test(j[1])?g/100:1)]}function n(b,g){return parseInt(s.css(b,g),10)||0}function p(b){var g=b[0];return g.nodeType===9?{width:b.width(),height:b.height(),offset:{top:0,left:0}}:s.isWindow(g)?{width:b.width(),height:b.height(),offset:{top:b.scrollTop(),left:b.scrollLeft()}}:g.preventDefault?{width:0,height:0,offset:{top:g.pageY,left:g.pageX}}:{width:b.outerWidth(),height:b.outerHeight(),offset:b.offset()}}s.ui=s.ui||{};var i,r=Math.max,d=Math.abs,a=Math.round,l=/left|center|right/,e=/top|center|bottom/,f=/[\+\-]\d+%?/,t=/^\w+/,h=/%$/,o=s.fn.position;s.position={scrollbarWidth:function(){if(i!==c){return i}var j,b,k=s("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),g=k.children()[0];return s("body").append(k),j=g.offsetWidth,k.css("overflow","scroll"),b=g.offsetWidth,j===b&&(b=k[0].clientWidth),k.remove(),i=j-b},getScrollInfo:function(m){var g=m.isWindow?"":m.element.css("overflow-x"),j=m.isWindow?"":m.element.css("overflow-y"),b=g==="scroll"||g==="auto"&&m.width<m.element[0].scrollWidth,k=j==="scroll"||j==="auto"&&m.height<m.element[0].scrollHeight;return{width:b?s.position.scrollbarWidth():0,height:k?s.position.scrollbarWidth():0}},getWithinInfo:function(b){var g=s(b||window),j=s.isWindow(g[0]);return{element:g,isWindow:j,offset:g.offset()||{left:0,top:0},scrollLeft:g.scrollLeft(),scrollTop:g.scrollTop(),width:j?g.width():g.outerWidth(),height:j?g.height():g.outerHeight()}}},s.fn.position=function(A){if(!A||!A.of){return o.apply(this,arguments)}A=s.extend({},A);var y,w,b,x,q,m,k=s(A.of),g=s.position.getWithinInfo(A.within),z=s.position.getScrollInfo(g),v=(A.collision||"flip").split(" "),j={};return m=p(k),k[0].preventDefault&&(A.at="left top"),w=m.width,b=m.height,x=m.offset,q=s.extend({},x),s.each(["my","at"],function(){var C=(A[this]||"").split(" "),D,B;C.length===1&&(C=l.test(C[0])?C.concat(["center"]):e.test(C[0])?["center"].concat(C):["center","center"]),C[0]=l.test(C[0])?C[0]:"center",C[1]=e.test(C[1])?C[1]:"center",D=f.exec(C[0]),B=f.exec(C[1]),j[this]=[D?D[0]:0,B?B[0]:0],A[this]=[t.exec(C[0])[0],t.exec(C[1])[0]]}),v.length===1&&(v[1]=v[0]),A.at[0]==="right"?q.left+=w:A.at[0]==="center"&&(q.left+=w/2),A.at[1]==="bottom"?q.top+=b:A.at[1]==="center"&&(q.top+=b/2),y=u(j.at,w,b),q.left+=y[0],q.top+=y[1],this.each(function(){var B,D,N=s(this),T=N.outerWidth(),P=N.outerHeight(),Q=n(this,"marginLeft"),O=n(this,"marginTop"),U=T+Q+n(this,"marginRight")+z.width,R=P+O+n(this,"marginBottom")+z.height,C=s.extend({},q),S=u(j.my,N.outerWidth(),N.outerHeight());A.my[0]==="right"?C.left-=T:A.my[0]==="center"&&(C.left-=T/2),A.my[1]==="bottom"?C.top-=P:A.my[1]==="center"&&(C.top-=P/2),C.left+=S[0],C.top+=S[1],s.support.offsetFractions||(C.left=a(C.left),C.top=a(C.top)),B={marginLeft:Q,marginTop:O},s.each(["left","top"],function(E,F){s.ui.position[v[E]]&&s.ui.position[v[E]][F](C,{targetWidth:w,targetHeight:b,elemWidth:T,elemHeight:P,collisionPosition:B,collisionWidth:U,collisionHeight:R,offset:[y[0]+S[0],y[1]+S[1]],my:A.my,at:A.at,within:g,elem:N})}),A.using&&(D=function(G){var E=x.left-C.left,H=E+w-T,F=x.top-C.top,J=F+b-P,I={target:{element:k,left:x.left,top:x.top,width:w,height:b},element:{element:N,left:C.left,top:C.top,width:T,height:P},horizontal:H<0?"left":E>0?"right":"center",vertical:J<0?"top":F>0?"bottom":"middle"};w<T&&d(E+H)<w&&(I.horizontal="center"),b<P&&d(F+J)<b&&(I.vertical="middle"),r(d(E),d(H))>r(d(F),d(J))?I.important="horizontal":I.important="vertical",A.using.call(this,G,I)}),N.offset(s.extend(C,{using:D}))})},s.ui.position={fit:{left:function(g,w){var m=w.within,k=m.isWindow?m.scrollLeft:m.offset.left,v=m.width,q=g.left-w.collisionPosition.marginLeft,x=k-q,b=q+w.collisionWidth-v-k,j;w.collisionWidth>v?x>0&&b<=0?(j=g.left+x+w.collisionWidth-v-k,g.left+=x-j):b>0&&x<=0?g.left=k:x>b?g.left=k+v-w.collisionWidth:g.left=k:x>0?g.left+=x:b>0?g.left-=b:g.left=r(g.left-q,g.left)},top:function(g,w){var m=w.within,k=m.isWindow?m.scrollTop:m.offset.top,v=w.within.height,q=g.top-w.collisionPosition.marginTop,x=k-q,b=q+w.collisionHeight-v-k,j;w.collisionHeight>v?x>0&&b<=0?(j=g.top+x+w.collisionHeight-v-k,g.top+=x-j):b>0&&x<=0?g.top=k:x>b?g.top=k+v-w.collisionHeight:g.top=k:x>0?g.top+=x:b>0?g.top-=b:g.top=r(g.top-q,g.top)}},flip:{left:function(w,j){var A=j.within,g=A.offset.left+A.scrollLeft,b=A.width,B=A.isWindow?A.scrollLeft:A.offset.left,k=w.left-j.collisionPosition.marginLeft,m=k-B,x=k+j.collisionWidth-b-B,z=j.my[0]==="left"?-j.elemWidth:j.my[0]==="right"?j.elemWidth:0,q=j.at[0]==="left"?j.targetWidth:j.at[0]==="right"?-j.targetWidth:0,y=-2*j.offset[0],C,v;if(m<0){C=w.left+z+q+y+j.collisionWidth-b-g;if(C<0||C<d(m)){w.left+=z+q+y}}else{if(x>0){v=w.left-j.collisionPosition.marginLeft+z+q+y-B;if(v>0||d(v)<x){w.left+=z+q+y}}}},top:function(x,g){var B=g.within,j=B.offset.top+B.scrollTop,b=B.height,C=B.isWindow?B.scrollTop:B.offset.top,k=x.top-g.collisionPosition.marginTop,q=k-C,y=k+g.collisionHeight-b-C,A=g.my[1]==="top",v=A?-g.elemHeight:g.my[1]==="bottom"?g.elemHeight:0,z=g.at[1]==="top"?g.targetHeight:g.at[1]==="bottom"?-g.targetHeight:0,D=-2*g.offset[1],w,m;q<0?(m=x.top+v+z+D+g.collisionHeight-b-j,x.top+v+z+D>q&&(m<0||m<d(q))&&(x.top+=v+z+D)):y>0&&(w=x.top-g.collisionPosition.marginTop+v+z+D-C,x.top+v+z+D>y&&(w>0||d(w)<y)&&(x.top+=v+z+D))}},flipfit:{left:function(){s.ui.position.flip.left.apply(this,arguments),s.ui.position.fit.left.apply(this,arguments)},top:function(){s.ui.position.flip.top.apply(this,arguments),s.ui.position.fit.top.apply(this,arguments)}}},function(){var q,g,k,v,m,j=document.getElementsByTagName("body")[0],b=document.createElement("div");q=document.createElement(j?"div":"body"),k={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},j&&s.extend(k,{position:"absolute",left:"-1000px",top:"-1000px"});for(m in k){q.style[m]=k[m]}q.appendChild(b),g=j||document.documentElement,g.insertBefore(q,g.firstChild),b.style.cssText="position: absolute; left: 10.7432222px;",v=s(b).offset().left,s.support.offsetFractions=v>10&&v<11,q.innerHTML="",g.removeChild(q)}()})(jQuery);(function(d,e){var f=0;d.widget("ui.autocomplete",{version:"1.10.0",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var c,a,b;this.isMultiLine=this._isMultiLine(),this.valueMethod=this.element[this.element.is("input,textarea")?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(j){if(this.element.prop("readOnly")){c=!0,b=!0,a=!0;return}c=!1,b=!1,a=!1;var i=d.ui.keyCode;switch(j.keyCode){case i.PAGE_UP:c=!0,this._move("previousPage",j);break;case i.PAGE_DOWN:c=!0,this._move("nextPage",j);break;case i.UP:c=!0,this._keyEvent("previous",j);break;case i.DOWN:c=!0,this._keyEvent("next",j);break;case i.ENTER:case i.NUMPAD_ENTER:this.menu.active&&(c=!0,j.preventDefault(),this.menu.select(j));break;case i.TAB:this.menu.active&&this.menu.select(j);break;case i.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(j),j.preventDefault());break;default:a=!0,this._searchTimeout(j)}},keypress:function(i){if(c){c=!1,i.preventDefault();return}if(a){return}var j=d.ui.keyCode;switch(i.keyCode){case j.PAGE_UP:this._move("previousPage",i);break;case j.PAGE_DOWN:this._move("nextPage",i);break;case j.UP:this._keyEvent("previous",i);break;case j.DOWN:this._keyEvent("next",i)}},input:function(h){if(b){b=!1,h.preventDefault();return}this._searchTimeout(h)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(h){if(this.cancelBlur){delete this.cancelBlur;return}clearTimeout(this.searching),this.close(h),this._change(h)}}),this._initSource(),this.menu=d("<ul>").addClass("ui-autocomplete").appendTo(this._appendTo()).menu({input:d(),role:null}).zIndex(this.element.zIndex()+1).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(j){j.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];d(j.target).closest(".ui-menu-item").length||this._delay(function(){var g=this;this.document.one("mousedown",function(h){h.target!==g.element[0]&&h.target!==i&&!d.contains(i,h.target)&&g.close()})})},menufocus:function(l,j){if(this.isNewMenu){this.isNewMenu=!1;if(l.originalEvent&&/^mouse/.test(l.originalEvent.type)){this.menu.blur(),this.document.one("mousemove",function(){d(l.target).trigger(l.originalEvent)});return}}var k=j.item.data("ui-autocomplete-item");!1!==this._trigger("focus",l,{item:k})?l.originalEvent&&/^key/.test(l.originalEvent.type)&&this._value(k.value):this.liveRegion.text(k.value)},menuselect:function(l,n){var k=n.item.data("ui-autocomplete-item"),m=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=m,this._delay(function(){this.previous=m,this.selectedItem=k})),!1!==this._trigger("select",l,{item:k})&&this._value(k.value),this.term=this._value(),this.close(l),this.selectedItem=k}}),this.liveRegion=d("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertAfter(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(a,b){this._super(a,b),a==="source"&&this._initSource(),a==="appendTo"&&this.menu.element.appendTo(this._appendTo()),a==="disabled"&&b&&this.xhr&&this.xhr.abort()},_appendTo:function(){var a=this.options.appendTo;return a&&(a=a.jquery||a.nodeType?d(a):this.document.find(a).eq(0)),a||(a=this.element.closest(".ui-front")),a.length||(a=this.document[0].body),a},_isMultiLine:function(){return this.element.is("textarea")?!0:this.element.is("input")?!1:this.element.prop("isContentEditable")},_initSource:function(){var c,a,b=this;d.isArray(this.options.source)?(c=this.options.source,this.source=function(i,j){j(d.ui.autocomplete.filter(c,i.term))}):typeof this.options.source=="string"?(a=this.options.source,this.source=function(i,j){b.xhr&&b.xhr.abort(),b.xhr=d.ajax({url:a,data:i,dataType:"json",success:function(g){j(g)},error:function(){j([])}})}):this.source=this.options.source},_searchTimeout:function(a){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,a))},this.options.delay)},search:function(a,b){a=a!=null?a:this._value(),this.term=this._value();if(a.length<this.options.minLength){return this.close(b)}if(this._trigger("search",b)===!1){return}return this._search(a)},_search:function(a){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:a},this._response())},_response:function(){var a=this,b=++f;return function(c){b===f&&a.__response(c),a.pending--,a.pending||a.element.removeClass("ui-autocomplete-loading")}},__response:function(a){a&&(a=this._normalize(a)),this._trigger("response",null,{content:a}),!this.options.disabled&&a&&a.length&&!this.cancelSearch?(this._suggest(a),this._trigger("open")):this._close()},close:function(a){this.cancelSearch=!0,this._close(a)},_close:function(a){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",a))},_change:function(a){this.previous!==this._value()&&this._trigger("change",a,{item:this.selectedItem})},_normalize:function(a){return a.length&&a[0].label&&a[0].value?a:d.map(a,function(b){return typeof b=="string"?{label:b,value:b}:d.extend({label:b.label||b.value,value:b.value||b.label},b)})},_suggest:function(b){var a=this.menu.element.empty().zIndex(this.element.zIndex()+1);this._renderMenu(a,b),this.menu.refresh(),a.show(),this._resizeMenu(),a.position(d.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var a=this.menu.element;a.outerWidth(Math.max(a.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(c,a){var b=this;d.each(a,function(j,i){b._renderItemData(c,i)})},_renderItemData:function(a,b){return this._renderItem(a,b).data("ui-autocomplete-item",b)},_renderItem:function(b,a){return d("<li>").append(d("<a>").text(a.label)).appendTo(b)},_move:function(a,b){if(!this.menu.element.is(":visible")){this.search(null,b);return}if(this.menu.isFirstItem()&&/^previous/.test(a)||this.menu.isLastItem()&&/^next/.test(a)){this._value(this.term),this.menu.blur();return}this.menu[a](b)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(a,b){if(!this.isMultiLine||this.menu.element.is(":visible")){this._move(a,b),b.preventDefault()}}}),d.extend(d.ui.autocomplete,{escapeRegex:function(a){return a.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(c,a){var b=new RegExp(d.ui.autocomplete.escapeRegex(a),"i");return d.grep(c,function(h){return b.test(h.label||h.value||h)})}}),d.widget("ui.autocomplete",d.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(a){return a+(a>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(a){var b;this._superApply(arguments);if(this.options.disabled||this.cancelSearch){return}a&&a.length?b=this.options.messages.results(a.length):b=this.options.messages.noResults,this.liveRegion.text(b)}})})(jQuery);(function(c,d){c.widget("ui.menu",{version:"1.10.0",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,c.proxy(function(a){this.options.disabled&&a.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(a){a.preventDefault()},"click .ui-state-disabled > a":function(a){a.preventDefault()},"click .ui-menu-item:has(a)":function(b){var a=c(b.target).closest(".ui-menu-item");!this.mouseHandled&&a.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(b),a.has(".ui-menu").length?this.expand(b):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&this.active.parents(".ui-menu").length===1&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(b){var a=c(b.currentTarget);a.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(b,a)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(b,e){var a=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(b,a)},blur:function(a){this._delay(function(){c.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(a)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(a){c(a.target).closest(".ui-menu").length||this.collapseAll(a),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var a=c(this);a.data("ui-menu-submenu-carat")&&a.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(m){function p(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var a,i,n,l,b,o=!0;switch(m.keyCode){case c.ui.keyCode.PAGE_UP:this.previousPage(m);break;case c.ui.keyCode.PAGE_DOWN:this.nextPage(m);break;case c.ui.keyCode.HOME:this._move("first","first",m);break;case c.ui.keyCode.END:this._move("last","last",m);break;case c.ui.keyCode.UP:this.previous(m);break;case c.ui.keyCode.DOWN:this.next(m);break;case c.ui.keyCode.LEFT:this.collapse(m);break;case c.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(m);break;case c.ui.keyCode.ENTER:case c.ui.keyCode.SPACE:this._activate(m);break;case c.ui.keyCode.ESCAPE:this.collapse(m);break;default:o=!1,i=this.previousFilter||"",n=String.fromCharCode(m.keyCode),l=!1,clearTimeout(this.filterTimer),n===i?l=!0:n=i+n,b=new RegExp("^"+p(n),"i"),a=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(c(this).children("a").text())}),a=l&&a.index(this.active.next())!==-1?this.active.nextAll(".ui-menu-item"):a,a.length||(n=String.fromCharCode(m.keyCode),b=new RegExp("^"+p(n),"i"),a=this.activeMenu.children(".ui-menu-item").filter(function(){return b.test(c(this).children("a").text())})),a.length?(this.focus(m,a),a.length>1?(this.previousFilter=n,this.filterTimer=this._delay(function(){delete this.previousFilter},1000)):delete this.previousFilter):delete this.previousFilter}o&&m.preventDefault()},_activate:function(a){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(a):this.select(a))},refresh:function(){var f,a=this.options.icons.submenu,b=this.element.find(this.options.menus);b.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var i=c(this),e=i.prev("a"),j=c("<span>").addClass("ui-menu-icon ui-icon "+a).data("ui-menu-submenu-carat",!0);e.attr("aria-haspopup","true").prepend(j),i.attr("aria-labelledby",e.attr("id"))}),f=b.add(this.element),f.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),f.children(":not(.ui-menu-item)").each(function(){var e=c(this);/[^\-—–\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),f.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!c.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(a,b){a==="icons"&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(b.submenu),this._super(a,b)},focus:function(b,h){var a,e;this.blur(b,b&&b.type==="focus"),this._scrollIntoView(h),this.active=h.first(),e=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",e.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),b&&b.type==="keydown"?this._close():this.timer=this._delay(function(){this._close()},this.delay),a=h.children(".ui-menu"),a.length&&/^mouse/.test(b.type)&&this._startOpening(a),this.activeMenu=h.parent(),this._trigger("focus",b,{item:h})},_scrollIntoView:function(l){var a,i,m,k,b,n;this._hasScroll()&&(a=parseFloat(c.css(this.activeMenu[0],"borderTopWidth"))||0,i=parseFloat(c.css(this.activeMenu[0],"paddingTop"))||0,m=l.offset().top-this.activeMenu.offset().top-a-i,k=this.activeMenu.scrollTop(),b=this.activeMenu.height(),n=l.height(),m<0?this.activeMenu.scrollTop(k+m):m+n>b&&this.activeMenu.scrollTop(k+m-b+n))},blur:function(a,b){b||clearTimeout(this.timer);if(!this.active){return}this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",a,{item:this.active})},_startOpening:function(a){clearTimeout(this.timer);if(a.attr("aria-hidden")!=="true"){return}this.timer=this._delay(function(){this._close(),this._open(a)},this.delay)},_open:function(b){var a=c.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(b.parents(".ui-menu")).hide().attr("aria-hidden","true"),b.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(a)},collapseAll:function(b,a){clearTimeout(this.timer),this.timer=this._delay(function(){var f=a?this.element:c(b&&b.target).closest(this.element.find(".ui-menu"));f.length||(f=this.element),this._close(f),this.blur(b),this.activeMenu=f},this.delay)},_close:function(a){a||(a=this.active?this.active.parent():this.element),a.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(a){var b=this.active&&this.active.parent().closest(".ui-menu-item",this.element);b&&b.length&&(this._close(),this.focus(a,b))},expand:function(a){var b=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();b&&b.length&&(this._open(b.parent()),this._delay(function(){this.focus(a,b)}))},next:function(a){this._move("next","first",a)},previous:function(a){this._move("prev","last",a)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(b,h,a){var e;this.active&&(b==="first"||b==="last"?e=this.active[b==="first"?"prevAll":"nextAll"](".ui-menu-item").eq(-1):e=this.active[b+"All"](".ui-menu-item").eq(0));if(!e||!e.length||!this.active){e=this.activeMenu.children(".ui-menu-item")[h]()}this.focus(a,e)},nextPage:function(g){var a,b,h;if(!this.active){this.next(g);return}if(this.isLastItem()){return}this._hasScroll()?(b=this.active.offset().top,h=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return a=c(this),a.offset().top-b-h<0}),this.focus(g,a)):this.focus(g,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]())},previousPage:function(g){var a,b,h;if(!this.active){this.next(g);return}if(this.isFirstItem()){return}this._hasScroll()?(b=this.active.offset().top,h=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return a=c(this),a.offset().top-b+h>0}),this.focus(g,a)):this.focus(g,this.activeMenu.children(".ui-menu-item").first())},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(b){this.active=this.active||c(b.target).closest(".ui-menu-item");var a={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(b,!0),this._trigger("select",b,a)}})})(jQuery);(function(d,e){var f=5;d.widget("ui.slider",d.ui.mouse,{version:"1.10.0",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){var k,a,c=this.options,l=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),i="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",b=[];this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this.range=d([]),c.range&&(c.range===!0&&(c.values?c.values.length&&c.values.length!==2?c.values=[c.values[0],c.values[0]]:d.isArray(c.values)&&(c.values=c.values.slice(0)):c.values=[this._valueMin(),this._valueMin()]),this.range=d("<div></div>").appendTo(this.element).addClass("ui-slider-range ui-widget-header"+(c.range==="min"||c.range==="max"?" ui-slider-range-"+c.range:""))),a=c.values&&c.values.length||1;for(k=l.length;k<a;k++){b.push(i)}this.handles=l.add(d(b.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.add(this.range).filter("a").click(function(g){g.preventDefault()}).mouseenter(function(){c.disabled||d(this).addClass("ui-state-hover")}).mouseleave(function(){d(this).removeClass("ui-state-hover")}).focus(function(){c.disabled?d(this).blur():(d(".ui-slider .ui-state-focus").removeClass("ui-state-focus"),d(this).addClass("ui-state-focus"))}).blur(function(){d(this).removeClass("ui-state-focus")}),this.handles.each(function(g){d(this).data("ui-slider-handle-index",g)}),this._setOption("disabled",c.disabled),this._on(this.handles,this._handleEvents),this._refreshValue(),this._animateOff=!1},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(u){var o,s,l,t,r,a,b,i,n=this,c=this.options;return c.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),o={x:u.pageX,y:u.pageY},s=this._normValueFromMouse(o),l=this._valueMax()-this._valueMin()+1,this.handles.each(function(h){var g=Math.abs(s-n.values(h));if(l>g||l===g&&(h===n._lastChangedValue||n.values(h)===c.min)){l=g,t=d(this),r=h}}),a=this._start(u,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,t.addClass("ui-state-active").focus(),b=t.offset(),i=!d(u.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=i?{left:0,top:0}:{left:u.pageX-b.left-t.width()/2,top:u.pageY-b.top-t.height()/2-(parseInt(t.css("borderTopWidth"),10)||0)-(parseInt(t.css("borderBottomWidth"),10)||0)+(parseInt(t.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(u,r,s),this._animateOff=!0,!0))},_mouseStart:function(){return !0},_mouseDrag:function(b){var c={x:b.pageX,y:b.pageY},a=this._normValueFromMouse(c);return this._slide(b,this._handleIndex,a),!1},_mouseStop:function(a){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(a,this._handleIndex),this._change(a,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation=this.options.orientation==="vertical"?"vertical":"horizontal"},_normValueFromMouse:function(b){var l,a,c,m,i;return this.orientation==="horizontal"?(l=this.elementSize.width,a=b.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(l=this.elementSize.height,a=b.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),c=a/l,c>1&&(c=1),c<0&&(c=0),this.orientation==="vertical"&&(c=1-c),m=this._valueMax()-this._valueMin(),i=this._valueMin()+c*m,this._trimAlignValue(i)},_start:function(b,c){var a={handle:this.handles[c],value:this.value()};return this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("start",b,a)},_slide:function(b,l,a){var c,m,i;this.options.values&&this.options.values.length?(c=this.values(l?0:1),this.options.values.length===2&&this.options.range===!0&&(l===0&&a>c||l===1&&a<c)&&(a=c),a!==this.values(l)&&(m=this.values(),m[l]=a,i=this._trigger("slide",b,{handle:this.handles[l],value:a,values:m}),c=this.values(l?0:1),i!==!1&&this.values(l,a,!0))):a!==this.value()&&(i=this._trigger("slide",b,{handle:this.handles[l],value:a}),i!==!1&&this.value(a))},_stop:function(b,c){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._trigger("stop",b,a)},_change:function(b,c){if(!this._keySliding&&!this._mouseSliding){var a={handle:this.handles[c],value:this.value()};this.options.values&&this.options.values.length&&(a.value=this.values(c),a.values=this.values()),this._lastChangedValue=c,this._trigger("change",b,a)}},value:function(a){if(arguments.length){this.options.value=this._trimAlignValue(a),this._refreshValue(),this._change(null,0);return}return this._value()},values:function(i,a){var b,j,c;if(arguments.length>1){this.options.values[i]=this._trimAlignValue(a),this._refreshValue(),this._change(null,i);return}if(!arguments.length){return this._values()}if(!d.isArray(arguments[0])){return this.options.values&&this.options.values.length?this._values(i):this.value()}b=this.options.values,j=arguments[0];for(c=0;c<b.length;c+=1){b[c]=this._trimAlignValue(j[c]),this._change(null,c)}this._refreshValue()},_setOption:function(c,a){var b,h=0;d.isArray(this.options.values)&&(h=this.options.values.length),d.Widget.prototype._setOption.apply(this,arguments);switch(c){case"disabled":a?(this.handles.filter(".ui-state-focus").blur(),this.handles.removeClass("ui-state-hover"),this.handles.prop("disabled",!0)):this.handles.prop("disabled",!1);break;case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":this._animateOff=!0,this._refreshValue();for(b=0;b<h;b+=1){this._change(null,b)}this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1}},_value:function(){var a=this.options.value;return a=this._trimAlignValue(a),a},_values:function(b){var i,a,c;if(arguments.length){return i=this.options.values[b],i=this._trimAlignValue(i),i}a=this.options.values.slice();for(c=0;c<a.length;c+=1){a[c]=this._trimAlignValue(a[c])}return a},_trimAlignValue:function(b){if(b<=this._valueMin()){return this._valueMin()}if(b>=this._valueMax()){return this._valueMax()}var i=this.options.step>0?this.options.step:1,a=(b-this._valueMin())%i,c=b-a;return Math.abs(a)*2>=i&&(c+=a>0?i:-i),parseFloat(c.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var a,o,s,l,t,r=this.options.range,b=this.options,c=this,i=this._animateOff?!1:b.animate,n={};this.options.values&&this.options.values.length?this.handles.each(function(g){o=(c.values(g)-c._valueMin())/(c._valueMax()-c._valueMin())*100,n[c.orientation==="horizontal"?"left":"bottom"]=o+"%",d(this).stop(1,1)[i?"animate":"css"](n,b.animate),c.options.range===!0&&(c.orientation==="horizontal"?(g===0&&c.range.stop(1,1)[i?"animate":"css"]({left:o+"%"},b.animate),g===1&&c.range[i?"animate":"css"]({width:o-a+"%"},{queue:!1,duration:b.animate})):(g===0&&c.range.stop(1,1)[i?"animate":"css"]({bottom:o+"%"},b.animate),g===1&&c.range[i?"animate":"css"]({height:o-a+"%"},{queue:!1,duration:b.animate}))),a=o}):(s=this.value(),l=this._valueMin(),t=this._valueMax(),o=t!==l?(s-l)/(t-l)*100:0,n[this.orientation==="horizontal"?"left":"bottom"]=o+"%",this.handle.stop(1,1)[i?"animate":"css"](n,b.animate),r==="min"&&this.orientation==="horizontal"&&this.range.stop(1,1)[i?"animate":"css"]({width:o+"%"},b.animate),r==="max"&&this.orientation==="horizontal"&&this.range[i?"animate":"css"]({width:100-o+"%"},{queue:!1,duration:b.animate}),r==="min"&&this.orientation==="vertical"&&this.range.stop(1,1)[i?"animate":"css"]({height:o+"%"},b.animate),r==="max"&&this.orientation==="vertical"&&this.range[i?"animate":"css"]({height:100-o+"%"},{queue:!1,duration:b.animate}))},_handleEvents:{keydown:function(i){var b,k,c,a,l=d(i.target).data("ui-slider-handle-index");switch(i.keyCode){case d.ui.keyCode.HOME:case d.ui.keyCode.END:case d.ui.keyCode.PAGE_UP:case d.ui.keyCode.PAGE_DOWN:case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:i.preventDefault();if(!this._keySliding){this._keySliding=!0,d(i.target).addClass("ui-state-active"),b=this._start(i,l);if(b===!1){return}}}a=this.options.step,this.options.values&&this.options.values.length?k=c=this.values(l):k=c=this.value();switch(i.keyCode){case d.ui.keyCode.HOME:c=this._valueMin();break;case d.ui.keyCode.END:c=this._valueMax();break;case d.ui.keyCode.PAGE_UP:c=this._trimAlignValue(k+(this._valueMax()-this._valueMin())/f);break;case d.ui.keyCode.PAGE_DOWN:c=this._trimAlignValue(k-(this._valueMax()-this._valueMin())/f);break;case d.ui.keyCode.UP:case d.ui.keyCode.RIGHT:if(k===this._valueMax()){return}c=this._trimAlignValue(k+a);break;case d.ui.keyCode.DOWN:case d.ui.keyCode.LEFT:if(k===this._valueMin()){return}c=this._trimAlignValue(k-a)}this._slide(i,l,c)},keyup:function(b){var a=d(b.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(b,a),this._change(b,a),d(b.target).removeClass("ui-state-active"))}}})})(jQuery);$.fn.extend({sliderLabels:function(h,f){var e=$(this);var g=e;g.css({"font-weight":"normal"});g.prepend('<span class="ui-slider-inner-label"  style="position: absolute; left:15px; bottom: 0; font-size: 12px; ">'+h+"</span>").append('<span class="ui-slider-inner-label" style="position: absolute; left:15px; top: 0; font-size: 12px;">'+f+"</span>")}});(function(a,c,e){var h="placeholder" in c.createElement("input"),k="placeholder" in c.createElement("textarea"),d=e.fn,j=e.valHooks,g,f;if(h&&k){f=d.placeholder=function(){return this};f.input=f.textarea=true}else{f=d.placeholder=function(){var l=this;l.filter((h?"textarea":":input")+"[placeholder]").not(".placeholder").bind({"focus.placeholder":i,"blur.placeholder":x}).data("placeholder-enabled",true).trigger("blur.placeholder");return l};f.input=h;f.textarea=k;g={get:function(m){var l=e(m);return l.data("placeholder-enabled")&&l.hasClass("placeholder")?"":m.value},set:function(m,n){var l=e(m);if(!l.data("placeholder-enabled")){return m.value=n}if(n==""){m.value=n;if(m!=c.activeElement){x.call(m)}}else{if(l.hasClass("placeholder")){i.call(m,true,n)||(m.value=n)}else{m.value=n}}return l}};h||(j.input=g);k||(j.textarea=g);e(function(){e(c).delegate("form","submit.placeholder",function(){var l=e(".placeholder",this).each(i);setTimeout(function(){l.each(x)},10)})});e(a).bind("beforeunload.placeholder",function(){e(".placeholder").each(function(){this.value=""})})}function b(m){var l={},n=/^jQuery\d+$/;e.each(m.attributes,function(p,o){if(o.specified&&!n.test(o.name)){l[o.name]=o.value}});return l}function i(m,n){var l=this,o=e(l);if(l.value==o.attr("placeholder")&&o.hasClass("placeholder")){if(o.data("placeholder-password")){o=o.hide().next().show().attr("id",o.removeAttr("id").data("placeholder-id"));if(m===true){return o[0].value=n}o.focus()}else{l.value="";o.removeClass("placeholder");l==c.activeElement&&l.select()}}}function x(){var q,l=this,p=e(l),m=p,o=this.id;if(l.value==""){if(l.type=="password"){if(!p.data("placeholder-textinput")){try{q=p.clone().attr({type:"text"})}catch(n){q=e("<input>").attr(e.extend(b(this),{type:"text"}))}q.removeAttr("name").data({"placeholder-password":true,"placeholder-id":o}).bind("focus.placeholder",i);p.data({"placeholder-textinput":q,"placeholder-id":o}).before(q)}p=p.removeAttr("id").hide().prev().attr("id",o).show()}p.addClass("placeholder");p[0].value=p.attr("placeholder")}else{p.removeClass("placeholder")}}}(this,document,jQuery));(function(f,d){var e=function(b,j,i){var a;return function c(){var g=this,h=arguments;function l(){if(!i){b.apply(g,h)}a=null}if(a){clearTimeout(a)}else{if(i){b.apply(g,h)}}a=setTimeout(l,j||100)}};jQuery.fn[d]=function(a){return a?this.bind("resize",e(a)):this.trigger(d)}})(jQuery,"smartresize");(function(d){function a(){}for(var b="assert,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,timeStamp,profile,profileEnd,time,timeEnd,trace,warn".split(","),c;c=b.pop();){d[c]=d[c]||a}})((function(){try{console.log();return window.console}catch(b){return window.console={}}})());function getURLParameter(b){return decodeURIComponent((new RegExp("[?|&]"+b+"=([^&;]+?)(&|#|;|$)").exec(location.search)||[,""])[1].replace(/\+/g,"%20"))||null}function prettyMetric(d,c){if(isNumber(d)){if(d>=10000){d=d.toString().replace(/\B(?=(?:\d{3})+(?!\d))/g,",")}return(FTmeta[c].style.prefix?FTmeta[activeMeasure].style.prefix:"")+d+(FTmeta[c].style.units?FTmeta[activeMeasure].style.units:"")}else{return"N/A"}}function isNumber(b){return !isNaN(parseFloat(b))&&isFinite(b)}function calcAverage(e){if(!FTmeta[activeMeasure].style.avg){var f=0;var d=0;$.each(jsonData.features,function(){f=f+this.properties[e];if(this.properties[e]!==null){d++}});FTmeta[e].style.avg=Math.round((f/d)*100)/100}}if(!Array.prototype.indexOf){Array.prototype.indexOf=function(c){var b=this.length,a=Number(arguments[1])||0;a=a<0?Math.ceil(a):Math.floor(a);if(a<0){a+=b}for(;a<b;a++){if(a in this&&this[a]===c){return a}}return -1}}function mapInit(){map=new L.Map("map",{center:[35.26,-80.807],zoom:10,minZoom:9,maxZoom:16});map.attributionControl.setPrefix(false).setPosition("bottomleft");var b=L.control({position:"bottomleft"});b.onAdd=function(a){this._div=L.DomUtil.create("div","myslider");this._div.innerHTML='<div id="opacity_slider"></div>';return this._div};b.addTo(map);$("#opacity_slider").slider({orientation:"vertical",range:"min",value:80,min:25,max:100,stop:function(a,d){map.dragging.enable();geojson.setStyle(style);if(activeRecord.id){highlightSelected(getNPALayer(activeRecord.id))}legend.update()},start:function(a,d){map.dragging.disable()}}).sliderLabels("Map","Data");L.tileLayer("http://maps.co.mecklenburg.nc.us/mbtiles/mbtiles-server.php?db=meckbase-desaturated.mbtiles&z={z}&x={x}&y={y}",{attribution:"<a href='http://emaps.charmeck.org'>Mecklenburg County GIS</a>"}).addTo(map);geojson=L.geoJson(jsonData,{style:style,onEachFeature:onEachFeature}).addTo(map);map.on("locationfound",function(d){var a=d.accuracy/2;performIntersection(d.latlng.lat,d.latlng.lng)});info=L.control();info.onAdd=function(a){this._div=L.DomUtil.create("div","info");this.update();return this._div};info.update=function(a){this._div.innerHTML="<h4>"+FTmeta[activeMeasure].title+"</h4>"+(a&&a[activeMeasure]!=undefined?"NPA "+a.id+": "+prettyMetric(a[activeMeasure],activeMeasure)+"<br>County Average: "+prettyMetric(FTmeta[activeMeasure].style.avg,activeMeasure):a&&a[activeMeasure]==undefined?"NPA "+a.id+"<br />No data available.":"")};info.addTo(map);legend=L.control({position:"bottomright"});legend.onAdd=function(a){this._div=L.DomUtil.create("div","info legend");this.update();return this._div};legend.update=function(){var a='<i style="background: #666666; opacity: '+($("#opacity_slider").slider("option","value")+10)/100+'"></i> <span id="legend-">N/A</span><br>';$.each(FTmeta[activeMeasure].style.breaks,function(f,e){a+='<i style="background:'+FTmeta[activeMeasure].style.colors[f]+"; opacity: "+($("#opacity_slider").slider("option","value")+10)/100+'"></i> <span id="legend-'+f+'">'+prettyMetric(e,activeMeasure)+(FTmeta[activeMeasure].style.colors[f+1]?"&ndash;"+prettyMetric(FTmeta[activeMeasure].style.breaks[f+1],activeMeasure)+"</span><br>":"+</span>")});this._div.innerHTML=a};legend.addTo(map)}function zoomToFeature(b){map.fitBounds(b)}function addMarker(f,e){if(marker){try{map.removeLayer(marker)}catch(d){}}marker=L.marker([f,e]).addTo(map)}function performIntersection(d,c){url=wsbase+"v1/ws_geo_pointoverlay.php?geotable=neighborhoods&callback=?&format=json&srid=4326&fields=id&parameters=&x="+c+"&y="+d;$.getJSON(url,function(a){if(a.total_rows>0){changeNeighborhood(a.rows[0].row.id);addMarker(d,c)}})}function getNPALayer(c){var d;$.each(geojson._layers,function(){if(this.feature.properties.id==c){d=this}});return d}function locationFinder(b){performIntersection(b.lat,b.lng)}function onEachFeature(c,d){d.on({mouseover:highlightFeature,mouseout:resetHighlight,click:selectFeature})}function style(b){return{fillColor:getColor(b.properties[activeMeasure]),weight:1,opacity:1,color:"#ffffff",fillOpacity:$("#opacity_slider").slider("value")/100}}function getColor(g){var d="";var f=FTmeta[activeMeasure].style.colors;var h=FTmeta[activeMeasure].style.breaks;$.each(h,function(b,a){if(a<=g&&g!==null){d=f[b];return}});if(d.length>0){return d}else{return"#666666"}}function highlightFeature(c){var d=c.target;if(!activeRecord||(activeRecord&&activeRecord.id!=c.target.feature.properties.id)){d.setStyle({weight:3,color:"#ffcc00"})}if(!L.Browser.ie&&!L.Browser.opera){d.bringToFront()}info.update(d.feature.properties)}function resetHighlight(c){var d=c.target;if(!activeRecord||(activeRecord&&activeRecord.id!=d.feature.properties.id)){d.setStyle({weight:1,color:"#f5f5f5"})}info.update()}function highlightSelected(b){geojson.setStyle(style);b.setStyle({weight:7,color:"#0283D5",dashArray:""});if(!L.Browser.ie&&!L.Browser.opera){b.bringToFront()}}function selectFeature(c){var d=c.target;changeNeighborhood(d.feature.properties.id)}var FTmeta,activeRecord={},defaultMeasure="p1",activeMeasure=defaultMeasure,wsbase="http://maps.co.mecklenburg.nc.us/rest/",map,geojson,jsonData,info,legend,marker,chart;$(document).ready(function(){$.ajax({url:"data/metrics.json?V=23",dataType:"json",async:false,success:function(b){FTmeta=b}});$.ajax({url:"data/npa.json?V=23",dataType:"json",type:"GET",async:false,success:function(b){jsonData=b}});$("input, textarea").placeholder();$("#report_metrics optgroup").click(function(b){$(this).children().prop("selected","selected")});$("#report_metrics optgroup option").click(function(b){b.stopPropagation()});$("#all_metrics").change(function(){$(this).is(":checked")?$("#report_metrics optgroup option").prop("selected","selected"):$("#report_metrics optgroup option").prop("selected",false)});updateData(FTmeta[defaultMeasure]);calcAverage(defaultMeasure);barChart(FTmeta[defaultMeasure]);$("a[data-measure="+defaultMeasure+"]").children("i").addClass("icon-active");$("a.measure-link").on("click",function(b){$("a.measure-link").children("i").removeClass("icon-active");$(this).children("i").addClass("icon-active");if($(window).width()<=767){$("html, body").animate({scrollTop:$("#data").offset().top},1000)}changeMeasure($(this).data("measure"));b.stopPropagation()});$(".sidenav li ul").on("click",function(b){b.stopPropagation()});$(".sidenav li.metrics-dropdown").on("click",function(){$(this).addClass("active").siblings().removeClass("active");$(this).siblings().children("ul").each(function(){if(!$(this).is(":hidden")){$(this).animate({height:"toggle"},250)}});$(this).children("ul").animate({height:"toggle"},250)});$("#metrics-select").change(function(){changeMeasure($(this).val())});$(".talkback").click(function(){$("#modalHelp").modal("hide");$("#modalTalkback").modal("show")});$(".reports").click(function(){$("#modalData").modal("hide");$("#modalReport").modal("show")});$(".reportToData").click(function(){$("#modalReport").modal("hide");$("#modalData").modal("show")});if(!Modernizr.geolocation){$(".gpsarea").hide()}else{$(".gps").click(function(){map.locate({enableHighAccuracy:true})})}$("*[rel=popover]").popover();$(".popover-trigger").hover(function(){if($(window).width()>979){$($(this).data("popover-selector")).popover("show")}},function(){$($(this).data("popover-selector")).popover("hide")});$(window).smartresize(function(){if($("#details_chart svg").width()!==$("#data").width()){barChart(FTmeta[activeMeasure])}});$("#talkback").submit(function(b){b.preventDefault();$("#modalTalkback").modal("hide");$.ajax({type:"POST",url:"php/feedback.php",data:{inputName:$("#inputName").val(),inputEmail:$("#inputEmail").val(),inputURL:window.location.href,inputFeedback:$("#inputFeedback").val()}})});$("#searchbox").click(function(){$(this).select()});$.widget("custom.catcomplete",$.ui.autocomplete,{_renderMenu:function(h,e){var g=this,f="";$.each(e,function(b,a){if(a.responsetype!==f){h.append("<li class='ui-autocomplete-category'>"+a.responsetype+"</li>");f=a.responsetype}g._renderItemData(h,a)})}});$("#searchbox").catcomplete({minLength:1,delay:250,autoFocus:true,source:function(c,d){if(c.term.length>3){$.ajax({url:wsbase+"v4/ws_geo_ubersearch.php",dataType:"jsonp",data:{searchtypes:"address,library,school,park,geoname,cast,nsa,intersection,pid,business,road",query:c.term},success:function(a){if(a.length>0){d($.map(a,function(b){return{label:b.name,gid:b.gid,responsetype:b.type,lng:b.lng,lat:b.lat}}))}else{d($.map([{}],function(b){if(isNumber(c.term)){return{label:"More information needed for search.",responsetype:"I've got nothing"}}else{return{label:"No records found.",responsetype:"I've got nothing"}}}))}}})}else{$.ajax({url:wsbase+"v2/ws_geo_attributequery.php",dataType:"jsonp",data:{table:"neighborhoods_data",fields:"id as gid, id as name, 'NPA' as type",parameters:"id = "+c.term},success:function(a){if(a.length>0){d($.map(a,function(b){return{label:b.name,gid:b.gid,responsetype:b.type}}))}else{d($.map([{}],function(b){return{label:"No records found. I might need more information.",responsetype:"I've got nothing"}}))}}})}},select:function(d,c){if(c.item.lat){locationFinder(c.item)}else{if(c.item.gid){changeNeighborhood(c.item.gid)}}$(this).popover("hide").blur()},open:function(d,c){$(this).popover("hide")}});$(".searchbtn").bind("click",function(b){$("#searchbox").catcomplete("search")})});$(window).load(function(){mapInit();if(window.location.hash.length>1){hashRead()}else{historyNav()}if(Modernizr.history){$(window).bind("popstate",function(){if(!getURLParameter("npa")&&!getURLParameter("variable")){$(".measure-info").hide();activeRecord={};barChart(FTmeta[activeMeasure]);geojson.setStyle(style);map.setView([35.26,-80.807],10)}else{historyNav()}})}$("#report_metrics").html($("#metrics-select").html())});function historyNav(){if(getURLParameter("npa")){changeNeighborhood(getURLParameter("npa"),false)}if(getURLParameter("variable")){changeMeasure(getURLParameter("variable"),false)}}function hashRead(){theHash=window.location.hash.replace("#","").split("/");if(theHash[2]&&theHash[2].length>0){if(theHash[2].indexOf(",")===-1){changeNeighborhood(theHash[2],true)}}if(theHash[1].length>0){changeMeasure(theHash[1])}window.location.hash=""}function changeMeasure(d,f){if(typeof(f)==="undefined"){f=true}activeMeasure=d;if($("a[data-measure="+d+"]").parent("li").parent("ul").is(":hidden")&&$(".sidenav").is(":visible")){$("a[data-measure="+d+"]").parent("li").parent("ul").parent("li").trigger("click")}if(!$("a[data-measure="+d+"]").children("i").hasClass("icon-active")){$("a.measure-link").children("i").removeClass("icon-active");$("a[data-measure="+d+"]").children("i").addClass("icon-active")}if(!FTmeta[activeMeasure].style.avg){calcAverage(activeMeasure)}geojson.setStyle(style);legend.update();info.update();var e=getNPALayer(activeRecord.id);updateData(FTmeta[activeMeasure]);if(activeRecord.id){highlightSelected(e)}if(Modernizr.history&&f){history.pushState(null,null,"?npa="+(activeRecord.id?activeRecord.id:"")+"&variable="+activeMeasure)}$("#metrics-select").val(d)}function changeNeighborhood(e,f){if(typeof(f)==="undefined"){f=true}var d=getNPALayer(e);assignData(d.feature.properties);$(".measure-info").show();updateData(FTmeta[activeMeasure]);highlightSelected(d);$("#report_neighborhood").val(e);zoomToFeature(d.getBounds());if(Modernizr.history&&f){history.pushState(null,null,"?npa="+(activeRecord.id?activeRecord.id:"")+"&variable="+activeMeasure)}}function assignData(b){$.each(b,function(a,d){activeRecord[a]=d})}function updateData(b){if(activeRecord.id){$("#selectedNeighborhood").html("Neighborhood Profile Area "+activeRecord.id);$("#selectedValue").html(prettyMetric(activeRecord[b.field],activeMeasure))}barChart(b);$("#selectedMeasure").html(b.title);$("#indicator_description").html(b.description);$("#indicator_why").html(b.importance);$("#indicator_technical").empty();if(b.tech_notes&&b.tech_notes.length>0){$("#indicator_technical").append("<p>"+b.tech_notes+"</p>")}if(b.source&&b.source.length>0){$("#indicator_technical").append("<p>"+b.source+"</p>")}$("#indicator_resources").empty();if(b.links){$("#indicator_resources").append(b.links)}}function barChart(i){var h,f,g;if(jQuery.isEmptyObject(activeRecord)||activeRecord[activeMeasure]===null){h=google.visualization.arrayToDataTable([[null,"County Average"],[null,FTmeta[i.field].style.avg]]);f=prettyMetric(Math.round(FTmeta[i.field].style.avg),activeMeasure);g=["#DC3912"]}else{h=google.visualization.arrayToDataTable([[null,"NPA "+activeRecord.id,"County Average"],[null,parseFloat(activeRecord[i.field]),Math.round(FTmeta[i.field].style.avg)]]);f=prettyMetric(activeRecord[i.field],activeMeasure);g=["#0283D5","#DC3912"]}var j={title:f,titlePosition:"out",titleTextStyle:{fontSize:14},hAxis:{format:"#.##",minValue:FTmeta[i.field].style.breaks[0]},width:"95%",height:150,legend:"bottom",colors:g,chartArea:{left:20,right:20,width:"100%"}};if(!chart){chart=new google.visualization.BarChart(document.getElementById("details_chart"))}chart.draw(h,j)};